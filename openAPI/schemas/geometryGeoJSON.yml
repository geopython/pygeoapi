title: geometryGeoJSON
oneOf:
  - $ref: '#/components/schemas/point'
  - $ref: '#/components/schemas/multiPoint'
  - $ref: '#/components/schemas/lineString'
  - $ref: '#/components/schemas/multiLineString'
  - $ref: '#/components/schemas/polygon'
  - $ref: '#/components/schemas/multiPolygon'
  - $ref: '#/components/schemas/geometryCollection'
discriminator:
  propertyName: type
  mapping:
    Point: '#/components/schemas/point'
    MultiPoint: '#/components/schemas/multiPoint'
    LineString: '#/components/schemas/lineString'
    MultiLineString: '#/components/schemas/multiLineString'
    Polygon: '#/components/schemas/polygon'
    MultiPolygon: '#/components/schemas/multiPolygon'
    GeometryCollection: '#/components/schemas/geometryCollection'

components:
  schemas:
    point:
      type: object
      required: [type, coordinates]
      properties:
        type: { type: string, enum: [Point] }
        coordinates: { type: array, items: { type: number }, minItems: 2 }

    multiPoint:
      type: object
      required: [type, coordinates]
      properties:
        type: { type: string, enum: [MultiPoint] }
        coordinates: { type: array, items: { type: array, items: { type: number } } }

    lineString:
      type: object
      required: [type, coordinates]
      properties:
        type: { type: string, enum: [LineString] }
        coordinates: { type: array, items: { type: array, items: { type: number } } }

    multiLineString:
      type: object
      required: [type, coordinates]
      properties:
        type: { type: string, enum: [MultiLineString] }
        coordinates: { type: array, items: { type: array, items: { type: array, items: { type: number } } } }

    polygon:
      type: object
      required: [type, coordinates]
      properties:
        type: { type: string, enum: [Polygon] }
        coordinates: { type: array, items: { type: array, items: { type: array, items: { type: number } } } }

    multiPolygon:
      type: object
      required: [type, coordinates]
      properties:
        type: { type: string, enum: [MultiPolygon] }
        coordinates: { type: array, items: { type: array, items: { type: array, items: { type: array, items: { type: number } } } } }

    geometryCollection:
      type: object
      required: [type, geometries]
      properties:
        type: { type: string, enum: [GeometryCollection] }
        geometries:
          type: array
          items: { $ref: './geometryGeoJSON.yml' }