{% extends "_base.html" %}
{% block title %}{{ super() }} Admin {% endblock %}

{% block extrahead %}
<link href="https://cdn.jsdelivr.net/npm/@mdi/font@4.x/css/materialdesignicons.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/vue@2.x/dist/vue.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"></script>
<script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
{% endblock %}

{% block body %}
  <div id="app" data-app>
    <v-main>
      <v-container>
        <v-tabs v-model="tab">
          <v-tab
            v-for="(val, key) in tree"
            grow
            :key="key"
          >
            [[ key ]]
          </v-tab>
        </v-tabs>
        <v-spacer></v-spacer>
        <v-tabs-items v-model="tab">
          <v-tab-item
            v-for="(val, key) in tree"
            :key="key"
          >
            <v-card rounded shaped>
              <gui-block 
               :key="key"
               :label="key" 
               :vals="val" 
              > 
              </gui-block>
            </v-card>  
          </v-tab-item>
        </v-tabs-items>
      </v-container>
    </v-main>
  </div>
{% endblock %}

{% block extrafoot %}
  
  
  {% include "admin/guiblock.html" %}
  {% include "admin/dialogblock.html" %}
  {% include "admin/editableblock.html" %}
  

  <script>
    const vue = new Vue({
      el: '#app',
      vuetify: new Vuetify(),
      delimiters: ['[[', ']]'],
      data: function () {
        return {
          tab: null,
          val: null,
          absolute: true,
          tree: {{ to_json(config) | safe }},
          dialog: false,
        }
      },
    })
  </script>
{% endblock %}