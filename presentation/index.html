<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>pygeoapi - API to Geospatial Data</title>
<link rel="stylesheet" href="css/reveal.css">
<link rel="stylesheet" href="css/theme/black.css">

<!-- Theme used for syntax highlighting of code -->
<link rel="stylesheet" href="lib/css/zenburn.css">

<!-- Printing and PDF exports -->
<script>
	var link = document.createElement('link');
	link.rel = 'stylesheet';
	link.type = 'text/css';
	link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css'
			: 'css/print/paper.css';
	document.getElementsByTagName('head')[0].appendChild(link);
</script>
<link href="https://fonts.googleapis.com/css?family=Roboto:400i"
	rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Exo+2:200i"
	rel="stylesheet">
<link rel="stylesheet" href="css/fullscreen-img.css">
<style type="text/css">



.reveal section img {
	background: none;
	border: none;
	box-shadow: none;
}

.reveal pre code {
	max-height: 600px;
}

.reveal code {
	font-size: 75%;
}

.reveal h1 {
	font-family: 'Roboto', sans-serif;
	font-size: 2.0em;
}

#intro h1, #intro h2 {
	margin: 0 0 20px 0;
	line-height: 0.9em;
	font-size: 1.0em !important;
	letter-spacing: 0.02em;
	text-transform: none;
	text-shadow: none;
	text-align: left;
}

.twitter {
	/* color: #C0C0C0; */
	color: #00aced;
}


html.intro body {
	background: url("https://geopython.github.io/pygeoapi/presentation/static/geopython.png");
	background-repeat: no-repeat;
	background-attachment: fixed;
	background-position: center;
	background-color: rgba(10, 10, 10, 0.9);
	background-position: 95% 10%;
	background-size: 10%;
}

</style>
</head>
<body>
	<div class="reveal">
		<div class="slides">
			<section data-state="intro" data-markdown>
				<textarea data-template>
				
				# pygeoapi
				
				## API for geospatial data   
				---
				[@tomkralidis](https://twitter.com/tomkralidis)  [@JMendesDeJesus](https://twitter.com/JMendesDeJesus) [@normanbarker](https://twitter.com/normanbarker) [@perrygeo](https://twitter.com/perrygeo)  <!-- .element: class="twitter"-->
				</textarea>
			</section>
			
			<section id="basement_background">
				<section data-markdown>
					<textarea data-template>
						<!-- .slide: id="background" -->
						In the beginning there was... WFS 2.0						
						</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
						 - Key Value Parameters (KVP) or XML encodings <!-- .element: class="fragment" data-fragment-index="1" style="text-align: center;" -->
						 - Requests using HTTP GET, HTTP POST and SOAP <!-- .element: class="fragment" data-fragment-index="2" style="text-align: center;" -->
						 - Responses as XML <!-- .element: class="fragment" data-fragment-index="3"  style="text-align: center;" -->
						</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
```xml
<wfs:FeatureCollection 
       xmlns:ms="http://mapserver.gis.umn.edu/mapserver"
	   xmlns:gml="http://www.opengis.net/gml" [..]>
	<gml:boundedBy>
		<gml:Envelope srsName="EPSG:32661">[..]
		</gml:Envelope>
	</gml:boundedBy>
	<gml:featureMember>
		<ms:north_poles_wfs gml:id="north_poles_wfs.0">
        	<gml:boundedBy>[..]</gml:boundedBy>
        <ms:msGeometry>[..]</ms:msGeometry>
        <ms:Id>0</ms:Id>[..] 
		</gml:featureMember>[..]
</wfs:FeatureCollection>
```
			</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
					## "Issues"
					   - Highly verbose  <!-- .element: class="fragment" data-fragment-index="1" -->
					   - Highly dependent on XML technologies <!-- .element: class="fragment" data-fragment-index="2" -->
					   - Verbose documentation (WFS 2.0 has 239 pages)  <!-- .element: class="fragment" data-fragment-index="3" -->
					   - OGC document from 2010 <!-- .element: class="fragment" data-fragment-index="4" -->
					   - No unique urls for features <!-- .element: class="fragment" data-fragment-index="5" -->
					   - Features hard to index by search engine <!-- .element: class="fragment" data-fragment-index="6" -->
					</textarea>
				</section>
			
				<section data-markdown>
					<textarea data-template>
					## "Issues"
					![alt text](https://geopython.github.io/pygeoapi/presentation/static/ldproxy.jpeg "OGC seeks public comment on WFS 3.0")
					- ldproxy for services to be crawlable
					- OGC world is NOT W3C friendly  
					</textarea>
				</section>
			</section><!--  end of WFS 2.0 issues -->
			<!-- Explain REST -->
			<section>
			<section data-markdown>
				<textarea data-template>

					 ### New era is upon us
					  - REST is becoming a MUST <!-- .element: class="fragment" data-fragment-index="1" -->
					  - Fast standard development <!-- .element: class="fragment" data-fragment-index="2"  -->
					  - Opinion: Development should be more developer friendly <!-- .element: class="fragment" data-fragment-index="3"  -->
					</textarea>
			</section>
			<section data-markdown>
			<textarea data-template>
			### What is REST ???
			
			
			- REpresentational State Transfer (REST) <!-- .element: class="fragment" data-fragment-index="1" -->
			- Uses HTTP's verbs (GET/POST/DELETE) <!-- .element: class="fragment" data-fragment-index="2"  -->
			- Uses HTTP's codes (200, 404, 201, etc) <!-- .element: class="fragment" data-fragment-index="3"  -->
			- Uses URI to identify resources <!-- .element: class="fragment" data-fragment-index="4"  -->
			- Content negotiation (ask for media-type)	<!-- .element: class="fragment" data-fragment-index="5"  -->
			- Stateless <!-- .element: class="fragment" data-fragment-index="6" -->
			
			
			</textarea>
			</section>
			
			<section data-markdown>
			<textarea data-template>
			
			![alt text](https://geopython.github.io/pygeoapi/presentation/static/rest-api.png "REST symbol") <!-- .element: style="background-color: white;"  -->
			
			- Very popular among developers <!-- .element: class="fragment" data-fragment-index="1" -->
			- Easy to understand <!-- .element: class="fragment" data-fragment-index="2" -->
			- JSON is king in REST webservices <!-- .element: class="fragment" data-fragment-index="3" -->
			- No rigid standards (good or bad) <!-- .element: class="fragment" data-fragment-index="4" -->
			
			</textarea>
			</section>
			
			</section> <!--  End of REST -->
			<section> 
			<section data-markdown> <!-- Hackathon -->
			<textarea data-template>
				### WFS 3.0 Hackathon - Kickstart
				
				- OGC sponsored <!-- .element: class="fragment" data-fragment-index="1"  -->
				- Develop WFS 3.0 based on OpenAPI <!-- .element: class="fragment" data-fragment-index="2"  -->
				- Write specification using GitHub <!-- .element: class="fragment" data-fragment-index="3"  -->
				- Hackathon in Fort Collins, CO, USA <!-- .element: class="fragment" data-fragment-index="4"  --> 
			</textarea>
			</section>
			<section>
			<img src="https://geopython.github.io/pygeoapi/presentation/static/Hackathon1.jpg"/>
			</section>
			<section>
			<img src="https://geopython.github.io/pygeoapi/presentation/static/Hackathon2.jpg"/>
			</section>
			<section>
			<img src="https://geopython.github.io/pygeoapi/presentation/static/Hackathon3.jpg"/>
			</section>
			<section data-markdown>
			<textarea data-template>
				![alt text](https://geopython.github.io/pygeoapi/presentation/static/Jivan_Amara.png "Jivan Amara") <!-- .element: style="background-color: white;"  -->
				
				Matthew Douglas Wiggett aka Jivan Amara
				
				1975 - 2018
				
				(Go-lang client/server for WFS3.0)
			</textarea>
			</section>
			
			
			</section> <!--  End Hackathon -->
			
			<section data-markdown>
				<textarea data-template>
				### OGC and W3C
				
				![alt text](https://geopython.github.io/pygeoapi/presentation/static/W3C_OGC.png "W3C and OFG")
				
				[https://www.w3.org/TR/sdw-bp/](https://www.w3.org/TR/sdw-bp/) <!-- .element: target="_blank" -->
				
				**MUST SEE DOCUMENT** 
				</textarea>
			</section>
			<section>
				<!-- Open API explanation -->
				<section data-markdown>
					<textarea data-template>
						## OpenAPI / Swagger
						- Specification on how to describe a REST web service <!-- .element: class="fragment" data-fragment-index="1" -->
						- Originally was referred as Swagger <!-- .element: class="fragment" data-fragment-index="2"  -->
						- Language agnostic	 <!-- .element: class="fragment" data-fragment-index="3" style="text-align: center; -->

						</textarea>
				</section>
				<section
					fullscreen-img="https://geopython.github.io/pygeoapi/presentation/static/SwaggerAPI.png" fullscreen-size="contain">
					<a href="http://swagger.io" style="background-color: #101010" target="_blank">http://swagger.io</a>
				</section>
				<section data-markdown>
					<textarea data-template>
					![alt text](https://geopython.github.io/pygeoapi/presentation/static/swagger.png "Swagger header") <!-- .element: style="max-width: 50%; max-height: 50%;" style="text-align: center; -->
					   
					   - OpenAPI is based on YAML Syntax <!-- .element: class="fragment" data-fragment-index="1" style="text-align: center; -->
					   - Describes REST endpoints <!-- .element: class="fragment" data-fragment-index="2" style="text-align: center; -->
					   - HTTP Verbs to use <!-- .element: class="fragment" data-fragment-index="3" style="text-align: center; -->
					   - Format of Responses <!-- .element: class="fragment" data-fragment-index="4" style="text-align: center; -->
				   </textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
					   Example yaml
```yaml
openapi: 3.0.1
info:
   title: OGC Web Feature Service standard API
   version: 0.0.1
   description: 'This is a sample OpenAPI definition for OGC'
   contact:
   name: La oreja de van Gogh
```				   
</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
			   
```yaml
paths:
	  /:
	   get:
		summary: landing page of this API
		description: 'Description of dataset'
		operationId: getLandingPage
		tags:
		- Capabilities
responses:
	  '200':
		description: links to the API capabilities
		content:
		 - application/json:
``` 		   
	</textarea>
				</section>
			</section><!--  end of Open API -->
			<section data-markdown>
				<textarea data-template>
	## Spec

	https://github.com/opengeospatial/WFS_FES/blob/master/openapi.yaml 
	
	The file above describes the WFS 3.0 structure 	<!-- .element: class="fragment" data-fragment-index="1"  -->
	
	</textarea>
			</section>
			<section>
				<img src="https://geopython.github.io/pygeoapi/presentation/static/EndPoints.png" />
				
				<a href="https://app.swaggerhub.com/apis/cholmesgeo/WFS3/M1" target="_blank">Check it in SwaggerHub</a>
			</section>
			<section data-markdown>
				<textarea data-template>
			## Example
			```
			  /collections
			``` 
			```
			  /collections/countries 
			```
			``` 
			  /collections/countries/items 
			```
			```
			  /collections/countries/items/The_Netherlands
			 ```
			Data is structured and each feature is a REST representation
			</textarea>
			</section>
			<section data-markdown>
				<textarea data-template>
		### OGC document WFS 3.0
		https://rawgit.com/opengeospatial/WFS_FES/master/docs/17-069.html <!-- .element: target="_blank"  -->
				
		### Repository (extra info)
		https://github.com/opengeospatial/WFS_FES <!-- .element: target="_blank"  --> 
	   
		</textarea>
			</section>
			<section data-markdown>
				<textarea data-template>
		### OGC Seeks Public Comment on WFS 3.0 Candidate Standard
		![alt text](https://geopython.github.io/pygeoapi/presentation/static/ogc.png "OGC seeks public comment on WFS 3.0")
		 
		http://www.opengeospatial.org/pressroom/pressreleases/2830  <!-- .element: target="_blank"  -->
		</textarea>
			</section>
			<section>
				<!--  PyGEOAPI section  vertical-->
				<section>
					<!--  First slide -->
					<h1>pyGeoapi</h1>
					<img
						src="https://geopython.github.io/pygeoapi/presentation/static/geopython.png">
					<p>(part of the amazing Geopython community in GitHub)</p>
					<p>
						<a href="https://github.com/geopython">https://github.com/geopython</a>
					</p>
				</section>
				<section data-markdown>
					<textarea data-template>
	     ## PyGeoAPI
	     
	     - More than just a pre WFS 3.0 implementation <!-- .element: class="fragment" data-fragment-index="1"  -->
	     - API access to data sets <!-- .element: class="fragment" data-fragment-index="2"  -->
	     - Powered by:  <!-- .element: class="fragment" data-fragment-index="3"  -->  
	    ![alt text](https://geopython.github.io/pygeoapi/presentation/static/flask.png "Powered by Flask") <!-- .element: class="fragment" data-fragment-index="4" style="background: white; border-radius: 10px" -->
	    </textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
	     ## PyGeoAPI
	     - Flask supporting REST <!-- .element: class="fragment" data-fragment-index="1" style="text-align: center; -->
	     - Automatic generated OpenAPI yml (description end points) <!-- .element: class="fragment" data-fragment-index="2"  -->
	     - Data provider agnostic <!-- .element: class="fragment" data-fragment-index="3"  -->
	     - Currently 4 drivers implemented <!-- .element: class="fragment" data-fragment-index="4"  -->
	     </textarea>
				</section>

				<section>
					<table>
						<tbody>
							<tr>
								<td><img src="https://geopython.github.io/pygeoapi/presentation/static/elastic_search.png" /></td>
								<td><img src="https://geopython.github.io/pygeoapi/presentation/static/csv_file.jpg" /></td>
								<td><img src="https://geopython.github.io/pygeoapi/presentation/static/spaltiallite.jpg" /></td>
								<td><img src="https://geopython.github.io/pygeoapi/presentation/static/geojson-logo.png" /></td>
							</tr>
							<tr>
								<td align="center">Elasticsearch</td>
								<td align="center">CSV</td>
								<td align="center">Spatialite</td>
								<td align="center">GeoJSON</td>
							</tr>
						</tbody>
					</table>
				</section>

				<section>
					<img src="https://geopython.github.io/pygeoapi/presentation/static/pygeoapi.png"></img> <a
						href="https://github.com/geopython/pygeoapi" target="_blank">https://github.com/geopython/pygeoapi</a>
				</section>
			</section>
			<!-- end of PyGEOPAI -->
			<section>
				<!--  docker section -->
				<section data-markdown>
				<textarea data-template>
			![alt text](https://geopython.github.io/pygeoapi/presentation/static/docker.png "Docker logo")
			# Docker and PyGeoAPI
			</textarea>
			</section>
			<section data-markdown>
			<textarea data-template>
			![alt text](https://geopython.github.io/pygeoapi/presentation/static/docker.png "Docker logo")
			
			- In dockerhub we have images of pygeoapi
			- Images create linux containers running content
			- We can use images to test locally or in server
			
			</textarea>
			</section>
			<section data-markdown>
			<textarea data-template>
			![alt text](https://geopython.github.io/pygeoapi/presentation/static/docker_hub.png "Docker Hub")
			
			Geopython dockerhub
			
			https://hub.docker.com/u/geopython/dashboard/ <!-- .element: target="_blank"  -->
			</textarea>
			</section>
		     	
		  <section data-markdown>
					<textarea data-template>
			Pulling from dockerhub
			```
			docker pull geopython/pygeoapi
			``` 
			Running local
			```
			docker run -p5000:5000 -v /pygeoapi/tests/data pygeoapi:latest
			```
			Testing:
			```
			http://localhost:5000
			http://localhost:5000/collections
			http://localhost:5000/collections/countries/items?limit=2
			http://localhost:5000/collections/countries/items?f=html
			```
			</textarea>
				</section>
				<section data-markdown>
				 <textarea data-template>
				  Let's see if we can make it run :)
				 </textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
			![alt text](https://geopython.github.io/pygeoapi/presentation/static/docker.png "Docker logo")
			- Dockerhub image without Elasticsearch <!-- .element: class="fragment" data-fragment-index="1"  -->
			- Docker-compose for Elasticsearch in github <!-- .element: class="fragment" data-fragment-index="2" -->
			- Easy to scale pygeoapi with docker swarm  <!-- .element: class="fragment" data-fragment-index="3"  -->
			</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
			![alt text](https://geopython.github.io/pygeoapi/presentation/static/docker_scale.png "Docker scale") <!-- .element: style="background-color: white;"  -->
			
			- Cloud clustering with high availability
			
			</textarea>
				</section>
			</section><!-- end of docker section -->
			<section> <!-- production usage -->
			<section data-markdown>
				<textarea data-template>
				(Some) Production instances of pygeoapi
				![alt text](https://geopython.github.io/pygeoapi/presentation/static/geopython.png "Geopython")
				
				Contact: [@tomkralidis](https://twitter.com/tomkralidis) <!-- .element: class="twitter"-->
				</textarea>
			
			</section>
			<section>
			<img src="https://geopython.github.io/pygeoapi/presentation/static/Canada_Hydat.png">
			<a href="http://bit.do/hydat">http://bit.do/hydat</a>
			<p align="center">Canadian National Water Data Archive</p>
			</section>
			<section data-markdown>
			<textarea data-template>
			numberMatched:	60 770 985
			```
			http://geo.weather.gc.ca/geomet-beta/features/collections/
			hydrometric-daily-mean/items?resulttype=hits 
			```
			100 Features
			```
			http://geo.weather.gc.ca/geomet-beta/features/collections/
			hydrometric-daily-mean/items?limit=100
			```
			Fetching 1 feature (200ms)
			```
			http://geo.weather.gc.ca/geomet-beta/features/collections/
			hydrometric-daily-mean/items/10SB001.1992-01-11
			```
			</textarea>
			</section>
			
			</section><!-- End Production instances -->
			<section data-markdown> <!-- road map -->
			<textarea data-template>
			## Roadmap
			
			- Implement more data providers <!-- .element: class="fragment" data-fragment-index="1"  -->
			- PostGIS and Geopackage as data providers <!-- .element: class="fragment" data-fragment-index="2"  -->
			- Support for OGC <!-- .element: class="fragment" data-fragment-index="3"  -->
			- Improve code and functions <!-- .element: class="fragment" data-fragment-index="4"  -->
			- Content negotiation (Reponse as geopackage/gml) <!-- .element: class="fragment" data-fragment-index="5"  -->
			- Advance filters (CQL)  <!-- .element: class="fragment" data-fragment-index="6"  -->
			</textarea>
			</section>
			<section>
			<section data-markdown><!--  STAC section -->
				<textarea data-template>
				### SpatioTemporal Asset Catalog (STAC)
				- Simple catalog of spatiotemporal items (JSON) <!-- .element: class="fragment" data-fragment-index="1"  -->
				- (stac != csw || csw => stac) <!-- .element: class="fragment" data-fragment-index="2" -->
				- More oriented for sat imagery <!-- .element: class="fragment" data-fragment-index="3"  -->
				- Parallel work to WFS 3.0 <!-- .element: class="fragment" data-fragment-index="4"  -->
				- Pull from storages like S3 <!-- .element: class="fragment" data-fragment-index="5"  -->
				- Geospatial assets openly searchable and crawlable <!-- .element: class="fragment" data-fragment-index="5"  -->
				
				</textarea>
			</section>
			<section>
			<img src="https://geopython.github.io/pygeoapi/presentation/static/stac.png">
			  <a href="https://github.com/radiantearth/stac-spec" target="_blank">https://github.com/radiantearth/stac-spec</a> 
			</section>
			<section data-markdown>
			<textarea data-template>
			### LandSat8 - Stac Example
			```json
			{
  "id": "LC81530252014153LGN00",
  "type": "Feature",
  "bbox": [ 49.16354,72.27502,51.36812,75.67662
        ],
  "geometry": {
    "type": "MultiPolygon",
"coordinates": [..]
			
			```
			</textarea>
			</section>
			<section data-markdown>
			<textarea data-template>
			### LandSat8 - Stac Example
			```json
			"properties": {
				"datetime": "2014-06-02T09:22:02Z",
				"provider": "USGS",
				"eo:gsd": 30.0,
				"eo:cloud_cover" : 10,
				"eo:off_nadir" : 0.000,
				"eo:azimuth": 0.00,
				"eo:sun_azimuth" : 149.01607154,
				"eo:sun_elevation" : 59.21424700,
		  }
			```
			</textarea>
			</section >
			<section data-markdown>
						<textarea data-template>
			### LandSat8 - Stac Example
			```json
  "assets" :{
    "thumbnail": {
          "href": "http://landsat[..]/LC81530252014153LGN00_thumb_large.jpg",
          "required": true,
          "type": "jpeg"
    },
    "metadata": {
      "href": "http://landsat[..]LC81530252014153LGN00_MTL.txt",
      "required": true,
      "type": "mtl"
},
		  }
			```
			</textarea>
			</section>
			
			</section><!--  end of STAC section -->
			<section><!--  final slide -->
			<img src="https://geopython.github.io/pygeoapi/presentation/static/Geocat.jpg" style="border-radius: 10%; max-width: 50%; max-height: 50%;"></img>
			<br/>
		<p>Need support for WFS3.0???</p> <p><a href="http://geocat.net" target="_blank">@Geocat</a> can help you</p>
		<img src="https://geopython.github.io/pygeoapi/presentation/static/geocat-banner.png" style="background-color: white; max-width: 50%; max-height: 50%">
		</section>
		</div>
		<!--  end of slide presentation -->

	</div>

	<script src="lib/js/head.min.js"></script>
	<script src="js/reveal.js"></script>

	<script>
		// More info about config & dependencies:
		// - https://github.com/hakimel/reveal.js#configuration
		// - https://github.com/hakimel/reveal.js#dependencies
		Reveal.initialize({
			slideNumber : true,
			slideNumber : 'c/t',
			history: true,
			dependencies : [ {
				src : 'plugin/markdown/marked.js'
			}, {
				src : 'plugin/markdown/markdown.js'
			}, {
				src : 'plugin/fullscreen/fullscreen-img.js'
			}, {
				src : 'plugin/notes/notes.js',
				async : true
			}, {
				src : 'plugin/highlight/highlight.js',
				async : true,
				callback : function() {
					hljs.initHighlightingOnLoad();
				}
			} ]
		});
	</script>
</body>
</html>
